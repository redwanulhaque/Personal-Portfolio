// Website Tabs
var content1 = document.getElementById("content1");
var content2 = document.getElementById("content2");
var content3 = document.getElementById("content3");
var content4 = document.getElementById("content4");
var content5 = document.getElementById("content5");
var content6 = document.getElementById("content6");
var content7 = document.getElementById("content7");

var btn1 = document.getElementById("btn1");
var btn2 = document.getElementById("btn2");
var btn3 = document.getElementById("btn3");
var btn4 = document.getElementById("btn4");
var btn5 = document.getElementById("btn5");
var btn6 = document.getElementById("btn6");
var btn7 = document.getElementById("btn7");

function open1(){
  content1.style.transform = "translateX(0)";
  content2.style.transform = "translateX(2500%)";
  content3.style.transform = "translateX(900%)";
  content4.style.transform = "translateX(900%)";
  content5.style.transform = "translateX(1500%)";
  content6.style.transform = "translateX(1500%)";
  content7.style.transform = "translateX(900%)";

  btn1.style.color = "#ff7846"
  btn2.style.color = "#ccc"
  btn3.style.color = "#ccc"
  btn4.style.color = "#ccc"
  btn5.style.color = "#ccc"
  btn6.style.color = "#ccc"
  btn7.style.color = "#ccc"

  content1.style.transitionDelay = "0.3s";
  content2.style.transitionDelay = "0s";
  content3.style.transitionDelay = "0s";
  content4.style.transitionDelay = "0s";
  content5.style.transitionDelay = "0s";
  content6.style.transitionDelay = "0s";
  content7.style.transitionDelay = "0s";
}

function open2(){
  content1.style.transform = "translateX(1500%)";
  content2.style.transform = "translateX(0)";
  content3.style.transform = "translateX(900%)";
  content4.style.transform = "translateX(900%)";
  content5.style.transform = "translateX(1500%)";
  content6.style.transform = "translateX(1500%)";
  content7.style.transform = "translateX(900%)";

  btn2.style.color = "#ff7846"
  btn1.style.color = "#ccc"
  btn3.style.color = "#ccc"
  btn4.style.color = "#ccc"
  btn5.style.color = "#ccc"
  btn6.style.color = "#ccc"
  btn7.style.color = "#ccc"

  content2.style.transitionDelay = "0.3s";
  content1.style.transitionDelay = "0s";
  content3.style.transitionDelay = "0s";
  content4.style.transitionDelay = "0s";
  content5.style.transitionDelay = "0s";
  content6.style.transitionDelay = "0s";
  content7.style.transitionDelay = "0s";
}

function open3(){
  content1.style.transform = "translateX(1500%)";
  content2.style.transform = "translateX(2500%)";
  content3.style.transform = "translateX(0)";
  content4.style.transform = "translateX(900%)";
  content5.style.transform = "translateX(1500%)";
  content6.style.transform = "translateX(1500%)";
  content7.style.transform = "translateX(900%)";

  btn3.style.color = "#ff7846"
  btn2.style.color = "#ccc"
  btn1.style.color = "#ccc"
  btn4.style.color = "#ccc"
  btn5.style.color = "#ccc"
  btn6.style.color = "#ccc"
  btn7.style.color = "#ccc"

  content3.style.transitionDelay = "0.3s";
  content2.style.transitionDelay = "0s";
  content1.style.transitionDelay = "0s";
  content4.style.transitionDelay = "0s";
  content5.style.transitionDelay = "0s";
  content6.style.transitionDelay = "0s";
  content7.style.transitionDelay = "0s";
}

function open4(){
  content1.style.transform = "translateX(1500%)";
  content2.style.transform = "translateX(2500%)";
  content3.style.transform = "translateX(900%)";
  content4.style.transform = "translateX(0)";
  content5.style.transform = "translateX(1500%)";
  content6.style.transform = "translateX(1500%)";
  content7.style.transform = "translateX(900%)";

  btn4.style.color = "#ff7846"
  btn2.style.color = "#ccc"
  btn3.style.color = "#ccc"
  btn1.style.color = "#ccc"
  btn5.style.color = "#ccc"
  btn6.style.color = "#ccc"
  btn7.style.color = "#ccc"

  content4.style.transitionDelay = "0.3s";
  content2.style.transitionDelay = "0s";
  content3.style.transitionDelay = "0s";
  content1.style.transitionDelay = "0s";
  content5.style.transitionDelay = "0s";
  content6.style.transitionDelay = "0s";
  content7.style.transitionDelay = "0s";
}

function open5(){
  content1.style.transform = "translateX(1500%)";
  content2.style.transform = "translateX(2500%)";
  content3.style.transform = "translateX(900%)";
  content4.style.transform = "translateX(900%)";
  content5.style.transform = "translateX(0)";
  content6.style.transform = "translateX(1500%)";
  content7.style.transform = "translateX(900%)";

  btn5.style.color = "#ff7846"
  btn2.style.color = "#ccc"
  btn3.style.color = "#ccc"
  btn4.style.color = "#ccc"
  btn1.style.color = "#ccc"
  btn6.style.color = "#ccc"
  btn7.style.color = "#ccc"

  content5.style.transitionDelay = "0.3s";
  content2.style.transitionDelay = "0s";
  content3.style.transitionDelay = "0s";
  content4.style.transitionDelay = "0s";
  content1.style.transitionDelay = "0s";
  content6.style.transitionDelay = "0s";
  content7.style.transitionDelay = "0s";
}

function open6(){
  content1.style.transform = "translateX(1500%)";
  content2.style.transform = "translateX(2500%)";
  content3.style.transform = "translateX(900%)";
  content4.style.transform = "translateX(900%)";
  content5.style.transform = "translateX(1500%)";
  content6.style.transform = "translateX(0)";
  content7.style.transform = "translateX(900%)";

  btn6.style.color = "#ff7846"
  btn2.style.color = "#ccc"
  btn3.style.color = "#ccc"
  btn4.style.color = "#ccc"
  btn5.style.color = "#ccc"
  btn1.style.color = "#ccc"
  btn7.style.color = "#ccc"

  content6.style.transitionDelay = "0.3s";
  content2.style.transitionDelay = "0s";
  content3.style.transitionDelay = "0s";
  content4.style.transitionDelay = "0s";
  content5.style.transitionDelay = "0s";
  content1.style.transitionDelay = "0s";
  content7.style.transitionDelay = "0s";
}

function open7(){
  content1.style.transform = "translateX(1500%)";
  content2.style.transform = "translateX(2500%)";
  content3.style.transform = "translateX(900%)";
  content4.style.transform = "translateX(900%)";
  content5.style.transform = "translateX(1500%)";
  content6.style.transform = "translateX(1500%)";
  content7.style.transform = "translateX(0)";

  btn7.style.color = "#ff7846"
  btn2.style.color = "#ccc"
  btn3.style.color = "#ccc"
  btn4.style.color = "#ccc"
  btn5.style.color = "#ccc"
  btn6.style.color = "#ccc"
  btn1.style.color = "#ccc"

  content7.style.transitionDelay = "0.3s";
  content2.style.transitionDelay = "0s";
  content3.style.transitionDelay = "0s";
  content4.style.transitionDelay = "0s";
  content5.style.transitionDelay = "0s";
  content6.style.transitionDelay = "0s";
  content1.style.transitionDelay = "0s";
}




// personal Projects
var pages = document.getElementsByClassName('page');
for(var i = 0; i < pages.length; i++)
  {
    var page = pages[i];
    if (i % 2 === 0)
      {
        page.style.zIndex = (pages.length - i);
      }
  }

document.addEventListener('DOMContentLoaded', function(){
  for(var i = 0; i < pages.length; i++)
    {
      pages[i].pageNum = i + 1;
      pages[i].onclick=function()
        {
          if (this.pageNum % 2 === 0)
            {
              this.classList.remove('flipped');
              this.previousElementSibling.classList.remove('flipped');
            }
          else
            {
              this.classList.add('flipped');
              this.nextElementSibling.classList.add('flipped');
            }
         }
      }
})




// Falling intro
window.onload = () => {
  const para = document.getElementById('me');
  const words = para.textContent.trim().split(' ');
  para.textContent = '';

  let delayCounter = 0;

  words.forEach(word => {
    const wordWrapper = document.createElement('span');
    wordWrapper.classList.add('word');

    for (let i = 0; i < word.length; i++) {
      const charSpan = document.createElement('span');
      charSpan.textContent = word[i];
      charSpan.style.animationDelay = (delayCounter * 0.04) + 's';
      delayCounter++;
      wordWrapper.appendChild(charSpan);
    }

    para.appendChild(wordWrapper);
    para.appendChild(document.createTextNode(' ')); // space between words
    delayCounter++; // slight gap after each word
  });
};




// Languages
const dropbtn = document.querySelector('.languages-dropbtn');
const dropdownContent = document.querySelector('.languages-dropdown-content');

dropbtn.addEventListener('click', (e) => {
  e.stopPropagation(); 
  dropdownContent.classList.toggle('show');
});

window.addEventListener('click', () => {
  if (!dropdownContent.matches(':hover')) {
    dropdownContent.classList.remove('show');
  }
});




// System 
const systemsDropbtn = document.querySelector('.systems-dropbtn');
const systemsDropdownContent = document.querySelector('.systems-dropdown-content');

systemsDropbtn.addEventListener('click', (e) => {
  e.stopPropagation();
  systemsDropdownContent.classList.toggle('show');
});

window.addEventListener('click', () => {
  if (!systemsDropdownContent.matches(':hover')) {
    systemsDropdownContent.classList.remove('show');
  }
});




// Programming language
const programmingDropbtn = document.querySelector('.programming-dropbtn');
const programmingDropdownContent = document.querySelector('.programming-dropdown-content');

programmingDropbtn.addEventListener('click', (e) => {
  e.stopPropagation();
  programmingDropdownContent.classList.toggle('show');
});

window.addEventListener('click', () => {
  if (!programmingDropdownContent.matches(':hover')) {
    programmingDropdownContent.classList.remove('show');
  }
});




// Framework
const frameworksDropbtn = document.querySelector('.frameworks-dropbtn');
const frameworksDropdownContent = document.querySelector('.frameworks-dropdown-content');

frameworksDropbtn.addEventListener('click', (e) => {
  e.stopPropagation();
  frameworksDropdownContent.classList.toggle('show');
});

window.addEventListener('click', () => {
  if (!frameworksDropdownContent.matches(':hover')) {
    frameworksDropdownContent.classList.remove('show');
  }
});




// Cert and other 
function setupDropdown(dropbtnSelector, dropdownContentSelector) {
  const btn = document.querySelector(dropbtnSelector);
  const content = document.querySelector(dropdownContentSelector);

  btn.addEventListener('click', e => {
    e.stopPropagation();
    content.classList.toggle('show');
  });

  window.addEventListener('click', () => {
    if (!content.matches(':hover')) {
      content.classList.remove('show');
    }
  });
}

setupDropdown('.certifications-dropbtn', '.certifications-dropdown-content');
setupDropdown('.others-dropbtn', '.others-dropdown-content');

document.querySelectorAll('.tree-list li > .label').forEach(label => {
    label.addEventListener('click', e => {
      const li = label.parentElement;
      if(li.classList.contains('leaf')) return; // no toggling for leaf
      li.classList.toggle('collapsed');
    });
  });



